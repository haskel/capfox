# Capfox Profiling Configuration

server:
  host: "0.0.0.0"
  port: 8080
  pid_file: "/var/run/capfox.pid"
  profiling:
    enabled: true  # pprof endpoints at /debug/pprof/

auth:
  enabled: false

thresholds:
  cpu:
    max_percent: 80
  memory:
    max_percent: 85
  gpu:
    max_percent: 90
  vram:
    max_percent: 85
  storage:
    min_free_gb: 10

monitoring:
  interval_ms: 1000
  paths:
    - "/"

persistence:
  data_dir: "/app/data"
  flush_interval_sec: 60

logging:
  level: "debug"
  format: "text"

learning:
  model: "moving_average"
  observation_delay_sec: 5

decision:
  strategy: "predictive"
  model: "linear"
  fallback_strategy: "threshold"
  min_observations: 5
  safety_buffer_percent: 10
  model_params:
    alpha: 0.2
    degree: 2
    n_estimators: 100
    max_depth: 5
    retrain_interval: "1h"
    min_retrain_samples: 50
    max_buffer_size: 10000
